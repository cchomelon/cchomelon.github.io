import{escapeHtml as s}from"@mdit/helper";import{tex as u}from"@mdit/plugin-tex";import{renderToString as c,ParseError as p}from"katex";const y=(t,o,n)=>{let r;try{r=c(t,{...o,displayMode:!1})}catch(e){/* istanbul ignore else -- @preserve */if(e instanceof p)console.error(e),r=`<span class='katex-error' title='${s(e.toString())}'>${s(t)}</span>`;else throw e}return n?.(r,!1)??r},S=(t,o,n)=>{let r;try{r=`<p class='katex-block'>${c(t,{...o,displayMode:!0})}</p>
`}catch(e){/* istanbul ignore else -- @preserve */if(e instanceof p)console.error(e),r=`<p class='katex-block katex-error' title='${s(e.toString())}'>${s(t)}</p>
`;else throw e}return n?.(r,!0)??r},$=(t,o={})=>{const{allowInlineWithSpace:n=!1,delimiters:r,mathFence:e,logger:m=a=>a==="newLineInDisplayMode"?"ignore":"warn",macros:f={},transformer:l,...d}=o;t.use(u,{allowInlineWithSpace:n,delimiters:r,mathFence:e,render:(a,h,k)=>{const i={strict:(g,w,x)=>m(g,w,x,k)??"ignore",macros:f,throwOnError:!1,...d};return h?S(a,i,l):y(a,i,l)}})};export{$ as katex};
//# sourceMappingURL=index.js.map
